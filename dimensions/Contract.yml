unique_name: Contract
object_type: dimension
label: Contract
description: "Clients: Contract information"
type: standard

hierarchies:

  - unique_name: By Commercial Solution Group
    label: By Commercial Solution Group

    levels:

      - unique_name: Commercial Solution Group

        secondary_attributes:

          - unique_name: d_COMMERCIAL_SOLUTION_GROUP_NAME
            label: Commercial Solution Group
            folder: Segmentation
            dataset: VW_DIM_CONTRACT.dataset
            key_columns:
              - COMMERCIAL_SOLUTION_GROUP_NAME
            name_column: COMMERCIAL_SOLUTION_GROUP_NAME
            sort_column: COMMERCIAL_SOLUTION_GROUP_NAME
            allowed_calcs_for_dma:
              - Lag
              - Range
              - Siblings

      - unique_name: ContractName

        secondary_attributes:

          - unique_name: d_CONTRACT_NAME
            label: Contract Name
            folder: Attribute
            associated_hierarchy: By Commercial Solution Group
            dataset: VW_DIM_CONTRACT.dataset
            key_columns:
              - CONTRACT_NAME
            name_column: CONTRACT_NAME
            sort_column: CONTRACT_NAME
            allowed_calcs_for_dma:
              - Lag
              - Range
              - Siblings

      - unique_name: HKCompositeContract
        is_hidden: true

        secondary_attributes:

          - unique_name: d_BUSINESS_LINE_NAME
            label: Business Line
            folder: Attribute
            associated_hierarchy: By Commercial Solution Group
            dataset: VW_DIM_CONTRACT.dataset
            key_columns:
              - BUSINESS_LINE_NAME
            name_column: BUSINESS_LINE_NAME
            sort_column: BUSINESS_LINE_NAME
            allowed_calcs_for_dma:
              - Lag
              - Range
              - Siblings

          - unique_name: d_CLOSING_OFFICE_NAME
            label: Contract Closing Office Name
            folder: Attribute
            associated_hierarchy: By Commercial Solution Group
            dataset: VW_DIM_CONTRACT.dataset
            key_columns:
              - CLOSING_OFFICE_NAME
            name_column: CLOSING_OFFICE_NAME
            sort_column: CLOSING_OFFICE_NAME
            allowed_calcs_for_dma:
              - Lag
              - Range
              - Siblings

          - unique_name: d_COMMERCIAL_TRADER_SEGMENT_NAME
            label: Commercial Trader Segment
            folder: Segmentation
            associated_hierarchy: By Commercial Solution Group
            dataset: VW_DIM_CONTRACT.dataset
            key_columns:
              - COMMERCIAL_TRADER_SEGMENT_NAME
            name_column: COMMERCIAL_TRADER_SEGMENT_NAME
            sort_column: COMMERCIAL_TRADER_SEGMENT_NAME
            allowed_calcs_for_dma:
              - Lag
              - Range
              - Siblings

          - unique_name: d_CONTRACT_ID
            label: Contract ID
            folder: Attribute
            associated_hierarchy: By Commercial Solution Group
            dataset: VW_DIM_CONTRACT.dataset
            key_columns:
              - CONTRACT_ID
            name_column: CONTRACT_ID
            sort_column: CONTRACT_ID
            allowed_calcs_for_dma:
              - Lag
              - Range
              - Siblings

          - unique_name: d_CONTRACT_LAST_TRADE_DATE
            label: Last Trade Date
            folder: Events
            associated_hierarchy: By Commercial Solution Group
            dataset: VW_DIM_CONTRACT.dataset
            key_columns:
              - CONTRACT_LAST_TRADE_DATE
            name_column: CONTRACT_LAST_TRADE_DATE
            sort_column: CONTRACT_LAST_TRADE_DATE
            allowed_calcs_for_dma:
              - Lag
              - Range
              - Siblings

          - unique_name: d_CONTRACT_TYPE
            label: Contract Type
            folder: Attribute
            associated_hierarchy: By Commercial Solution Group
            dataset: VW_DIM_CONTRACT.dataset
            key_columns:
              - CONTRACT_TYPE
            name_column: CONTRACT_TYPE
            sort_column: CONTRACT_TYPE
            allowed_calcs_for_dma:
              - Lag
              - Range
              - Siblings

          - unique_name: d_COUNTRY_OF_RESIDENCE
            label: Country Of Residence
            folder: Attribute
            associated_hierarchy: By Commercial Solution Group
            dataset: VW_DIM_CONTRACT.dataset
            key_columns:
              - COUNTRY_OF_RESIDENCE
            name_column: COUNTRY_OF_RESIDENCE
            sort_column: COUNTRY_OF_RESIDENCE
            allowed_calcs_for_dma:
              - Lag
              - Range
              - Siblings

          - unique_name: d_INSTITUTIONAL_LIFECYCLE_STATE_NAME
            label: Institutional Lifecycle State
            folder: State
            associated_hierarchy: By Commercial Solution Group
            dataset: VW_DIM_CONTRACT.dataset
            key_columns:
              - INSTITUTIONAL_LIFECYCLE_STATE_NAME
            name_column: INSTITUTIONAL_LIFECYCLE_STATE_NAME
            sort_column: INSTITUTIONAL_LIFECYCLE_STATE_NAME
            allowed_calcs_for_dma:
              - Lag
              - Range
              - Siblings

          - unique_name: d_LEGAL_ENTITY_NAME
            label: Legal Entity
            folder: Attribute
            associated_hierarchy: By Commercial Solution Group
            dataset: VW_DIM_CONTRACT.dataset
            key_columns:
              - LEGAL_ENTITY_NAME
            name_column: LEGAL_ENTITY_NAME
            sort_column: LEGAL_ENTITY_NAME
            allowed_calcs_for_dma:
              - Lag
              - Range
              - Siblings

          - unique_name: d_SEGMENT_VALUE_NAME
            label: Segment Value
            folder: Segmentation
            associated_hierarchy: By Contractual Group
            dataset: VW_DIM_CONTRACT.dataset
            key_columns:
              - SEGMENT_VALUE_NAME
            name_column: SEGMENT_VALUE_NAME
            sort_column: SEGMENT_VALUE_NAME
            allowed_calcs_for_dma:
              - Lag
              - Range
              - Siblings

  - unique_name: By Contractual Group
    label: By Contractual Group
    filter_empty: "yes"

    levels:

      - unique_name: Contractual Solution Name

        secondary_attributes:

          - unique_name: d_CONTRACTUAL_SOLUTION_NAME
            label: Contractual Solution
            folder: Segmentation
            dataset: VW_DIM_CONTRACT.dataset
            key_columns:
              - CONTRACTUAL_SOLUTION_NAME
            name_column: CONTRACTUAL_SOLUTION_NAME
            sort_column: CONTRACTUAL_SOLUTION_NAME
            allowed_calcs_for_dma:
              - Lag
              - Range
              - Siblings

      - unique_name: HKCompositeContract
        is_hidden: true

  - unique_name: By Top Level Contract
    label: By Top Level Contract
    filter_empty: "yes"

    levels:

      - unique_name: ContractName

      - unique_name: HKCompositeContract
        is_hidden: true

  - unique_name: By Creation
    label: By Creation
    filter_empty: "yes"
    folder: Events

    levels:

      - unique_name: Creation Year

      - unique_name: Creation Month

      - unique_name: Creation Date

        secondary_attributes:

          - unique_name: d_CONTRACT_CREATED_DATE
            label: Creation Date
            folder: Events
            dataset: VW_DIM_CONTRACT.dataset
            key_columns:
              - CONTRACT_CREATED_DATE
            name_column: CONTRACT_CREATED_DATE
            sort_column: CONTRACT_CREATED_DATE
            allowed_calcs_for_dma:
              - Lag
              - Range
              - Siblings

      - unique_name: HKCompositeContract
        is_hidden: true

  - unique_name: By First Trade
    label: By First Trade
    filter_empty: "yes"
    folder: Events

    levels:

      - unique_name: First Trade Year

      - unique_name: First Trade Month

      - unique_name: By First Trade Level

        secondary_attributes:

          - unique_name: d_CONTRACT_FIRST_TRADE_DATE
            label: First Trade Date
            folder: Events
            dataset: VW_DIM_CONTRACT.dataset
            key_columns:
              - CONTRACT_FIRST_TRADE_DATE
            name_column: CONTRACT_FIRST_TRADE_DATE
            sort_column: CONTRACT_FIRST_TRADE_DATE
            allowed_calcs_for_dma:
              - Lag
              - Range
              - Siblings

      - unique_name: HKCompositeContract
        is_hidden: true

level_attributes:

  - unique_name: By First Trade Level
    label: First Trade Date
    dataset: VW_DIM_CONTRACT.dataset
    key_columns:
      - CONTRACT_FIRST_TRADE_DATE
    name_column: CONTRACT_FIRST_TRADE_DATE
    allowed_calcs_for_dma:
      - Ancestor
      - Descendants
      - Lag
      - ParallelPeriod
      - Range
      - Siblings

  - unique_name: Commercial Solution Group
    label: Commercial Solution Group
    dataset: VW_DIM_CONTRACT.dataset
    key_columns:
      - COMMERCIAL_SOLUTION_GROUP_NAME
    name_column: COMMERCIAL_SOLUTION_GROUP_NAME
    allowed_calcs_for_dma:
      - Ancestor
      - Descendants
      - Lag
      - ParallelPeriod
      - Range
      - Siblings

  - unique_name: ContractName
    label: Contract Name
    dataset: VW_DIM_CONTRACT.dataset
    key_columns:
      - CONTRACT_NAME
    name_column: CONTRACT_NAME
    allowed_calcs_for_dma:
      - Ancestor
      - Descendants
      - Lag
      - ParallelPeriod
      - Range
      - Siblings

  - unique_name: Contractual Solution Name
    label: Contractual Solution Name
    dataset: VW_DIM_CONTRACT.dataset
    key_columns:
      - CONTRACTUAL_SOLUTION_NAME
    name_column: CONTRACTUAL_SOLUTION_NAME
    allowed_calcs_for_dma:
      - Ancestor
      - Descendants
      - Lag
      - ParallelPeriod
      - Range
      - Siblings

  - unique_name: Creation Date
    label: Creation Date
    dataset: VW_DIM_CONTRACT.dataset
    key_columns:
      - CONTRACT_CREATED_DATE
    name_column: CONTRACT_CREATED_DATE
    allowed_calcs_for_dma:
      - Ancestor
      - Descendants
      - Lag
      - ParallelPeriod
      - Range
      - Siblings

  - unique_name: Creation Month
    label: Creation Month
    dataset: VW_DIM_CONTRACT.dataset
    key_columns:
      - CONTRACT_CREATED_YEAR_MONTH
    name_column: CONTRACT_CREATED_YEAR_MONTH
    allowed_calcs_for_dma:
      - Ancestor
      - Descendants
      - Lag
      - ParallelPeriod
      - Range
      - Siblings

  - unique_name: Creation Year
    label: Creation Year
    dataset: VW_DIM_CONTRACT.dataset
    key_columns:
      - CONTRACT_CREATED_YEAR
    name_column: CONTRACT_CREATED_YEAR
    allowed_calcs_for_dma:
      - Ancestor
      - Descendants
      - Lag
      - ParallelPeriod
      - Range
      - Siblings

  - unique_name: First Trade Month
    label: First Trade Month
    dataset: VW_DIM_CONTRACT.dataset
    key_columns:
      - CONTRACT_FIRST_TRADE_DATE_YEAR_MONTH
    name_column: CONTRACT_FIRST_TRADE_DATE_YEAR_MONTH
    allowed_calcs_for_dma:
      - Ancestor
      - Descendants
      - Lag
      - ParallelPeriod
      - Range
      - Siblings

  - unique_name: First Trade Year
    label: First Trade Year
    dataset: VW_DIM_CONTRACT.dataset
    key_columns:
      - CONTRACT_FIRST_TRADE_DATE_YEAR
    name_column: CONTRACT_FIRST_TRADE_DATE_YEAR
    allowed_calcs_for_dma:
      - Ancestor
      - Descendants
      - Lag
      - ParallelPeriod
      - Range
      - Siblings

  - unique_name: HKCompositeContract
    label: HKCompositeContract
    dataset: VW_DIM_CONTRACT.dataset
    key_columns:
      - HK_COMPOSITE_CONTRACT
    name_column: HK_COMPOSITE_CONTRACT
    allowed_calcs_for_dma:
      - Ancestor
      - Descendants
      - Lag
      - ParallelPeriod
      - Range
      - Siblings

relationships:

  - unique_name: Contract_TopLevelContract
    from:
      hierarchy: By Commercial Solution Group
      level: HKCompositeContract
      dataset: VW_DIM_CONTRACT.dataset
      join_columns:
        - HK_TOP_LEVEL_CONTRACT
    to:
      dimension: Top Level Contract
      level: Top Level Contract Level
    type: embedded

  - unique_name: Contract_Office_Tax
    from:
      hierarchy: By Commercial Solution Group
      level: HKCompositeContract
      dataset: VW_DIM_CONTRACT.dataset
      join_columns:
        - HK_TAX_OFFICE
    to:
      dimension: Office
      level: Office Level
    role_play: "Tax {0}"
    type: embedded

  - unique_name: Contract_Office_Reporting
    from:
      hierarchy: By Commercial Solution Group
      level: HKCompositeContract
      dataset: VW_DIM_CONTRACT.dataset
      join_columns:
        - HK_REPORTING_OFFICE
    to:
      dimension: Office
      level: Office Level
    role_play: "Reporting {0}"
    type: embedded

modeler_metadata:
  version: "0"
  modified: "false"
